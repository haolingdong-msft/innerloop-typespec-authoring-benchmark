# Plain Agent

## Claude Sonnet 4.5

### Output

```tsp
using TypeSpec.Rest;
using TypeSpec.Http;
using TypeSpec.Versioning;
using Azure.Core;
using Azure.ResourceManager;

namespace Microsoft.Widget;

/** Asset extension resource */
@tenantResource
@parentResource(ExtensionResourceBase)
model Asset is ExtensionResource<AssetProperties> {
  /** The name of the asset */
  @key("assetName")
  @segment("assets")
  @path
  name: string;
}

/** Asset properties */
model AssetProperties {
  /** Description of the asset */
  description?: string;

  /** Asset type */
  assetType?: string;

  /** Asset value */
  value?: string;

  /** The status of the last operation. */
  @visibility(Lifecycle.Read)
  provisioningState?: AssetProvisioningState;
}

/** The resource provisioning state. */
@lroStatus
union AssetProvisioningState {
  ResourceProvisioningState,

  /** The resource is being provisioned */
  Provisioning: "Provisioning",

  /** The resource is updating */
  Updating: "Updating",

  /** The resource is being deleted */
  Deleting: "Deleting",

  string,
}

@armResourceOperations
interface Assets {
  get is ArmResourceRead<Asset>;
  createOrUpdate is ArmResourceCreateOrReplaceAsync<Asset>;
  update is ArmResourcePatchSync<Asset, AssetProperties>;
  delete is ArmResourceDeleteWithoutOkAsync<Asset>;
  listByParent is ArmResourceListByParent<Asset>;
}
```

### Result

fail

## GPT-4.1

### Output

```tsp
import "@typespec/rest";
import "@typespec/http";
import "@azure-tools/typespec-azure-core";
import "@azure-tools/typespec-azure-resource-manager";
import "./employee.tsp";

using TypeSpec.Rest;
using TypeSpec.Http;
using Azure.Core;
using Azure.ResourceManager;

namespace Microsoft.Widget;

/** Asset extension resource for Employee. */
model Asset is ExtensionResource<AssetProperties, Employee> {
  ...ResourceNameParameter<Asset>;
}

/** Asset properties */
model AssetProperties {
  /** The type of asset. */
  assetType: string;

  /** The value of the asset. */
  value: string;

  /** The status of the last operation. */
  @visibility(Lifecycle.Read)
  provisioningState?: ProvisioningState;
}

@armResourceOperations
interface Assets {
  get is ArmResourceRead<Asset>;
  createOrUpdate is ArmResourceCreateOrReplaceAsync<Asset>;
  update is ArmResourcePatchSync<Asset, AssetProperties>;
  delete is ArmResourceDeleteWithoutOkAsync<Asset>;
  listByParent is ArmResourceListByParent<Asset>;
}
```

### Result

failed

# Agent with Authoring Tool

## Claude Sonnet 4.5

### Output

```tsp
import "@typespec/http";
import "@typespec/rest";
import "@typespec/versioning";
import "@azure-tools/typespec-azure-core";
import "@azure-tools/typespec-azure-resource-manager";

using TypeSpec.Http;
using TypeSpec.Rest;
using TypeSpec.Versioning;
using Azure.Core;
using Azure.ResourceManager;

/** Microsoft.Widget Resource Provider management API. */
@armProviderNamespace
@service(#{ title: "Widget" })
@versioned(Microsoft.Widget.Versions)
namespace Microsoft.Widget;

/** The available API versions. */
enum Versions {
  /** 2021-10-01-preview version */
  @armCommonTypesVersion(Azure.ResourceManager.CommonTypes.Versions.v5)
  v2021_10_01_preview: "2021-10-01-preview",

  /** 2021-11-01 version */
  @armCommonTypesVersion(Azure.ResourceManager.CommonTypes.Versions.v5)
  v2021_11_01: "2021-11-01",

  /** 2025-05-04-preview version */
  @armCommonTypesVersion(Azure.ResourceManager.CommonTypes.Versions.v5)
  `2025-05-04-preview`,
}

interface Operations extends Azure.ResourceManager.Operations {}

/** Asset extension resource */
model Asset is ExtensionResource<AssetProperties> {
  /** Asset resource name */
  @segment("assets")
  @key("assetName")
  @path
  name: string;
}

/** Properties for Asset extension resource */
model AssetProperties {
  /** The type of asset */
  assetType: string;

  /** The value or description of the asset */
  value: string;

  /** Optional tags for categorization */
  tags?: string[];

  /** The status of the last operation. */
  @visibility(Lifecycle.Read)
  provisioningState?: ProvisioningState;
}

/** The resource provisioning state. */
@lroStatus
union ProvisioningState {
  ResourceProvisioningState,

  /** The resource is being provisioned */
  Provisioning: "Provisioning",

  /** The resource is updating */
  Updating: "Updating",

  /** The resource is being deleted */
  Deleting: "Deleting",

  /** The resource create request has been accepted */
  Accepted: "Accepted",

  string,
}

@armResourceOperations
interface Assets {
  get is ArmResourceRead<Asset>;
  createOrUpdate is ArmResourceCreateOrReplaceAsync<Asset>;
  update is ArmCustomPatchSync<
    Asset,
    Azure.ResourceManager.Foundations.ResourceUpdateModel<Asset, AssetProperties>
  >;
  delete is ArmResourceDeleteSync<Asset>;
  listByResource is ArmResourceListByParent<Asset>;
}

```

![claude sonnet 4.5](../claude-with-authoring.png)

### Result

pass

## GPT 4.1

### Output

```tsp
import "@typespec/http";
import "@typespec/rest";
import "@typespec/versioning";
import "@azure-tools/typespec-azure-core";
import "@azure-tools/typespec-azure-resource-manager";

using TypeSpec.Http;
using TypeSpec.Rest;
using TypeSpec.Versioning;
using Azure.Core;
using Azure.ResourceManager;

/** Microsoft.Widget Resource Provider management API. */
@armProviderNamespace
@service(#{ title: "Widget" })
@versioned(Microsoft.Widget.Versions)
namespace Microsoft.Widget;

/** The available API versions. */
enum Versions {
  /** 2021-10-01-preview version */
  @armCommonTypesVersion(Azure.ResourceManager.CommonTypes.Versions.v5)
  v2021_10_01_preview: "2021-10-01-preview",

  /** 2021-11-01 version */
  @armCommonTypesVersion(Azure.ResourceManager.CommonTypes.Versions.v5)
  v2021_11_01: "2021-11-01",

  /** 2025-05-04-preview version */
  @armCommonTypesVersion(Azure.ResourceManager.CommonTypes.Versions.v5)
  `2025-05-04-preview`,
}

interface Operations extends Azure.ResourceManager.Operations {}


/**
 * The rp-specific properties for the asset extension resource.
 */
model AssetProperties {
  /** Minimal required property for demonstration. Add more as needed. */
  description?: string;
}

/**
 * Asset extension resource model (no parent resource).
 */
@Azure.ResourceManager.extensionResource
model AssetResource is ExtensionResource<AssetProperties> {
  /** The asset name */
  @segment("assets")
  @key("assetName")
  @path
  name: string;
}

/** Asset extension resource operations */
interface AssetOperations {
  /** Get an asset extension resource */
  getAsset is ArmResourceRead<AssetResource>;
  /** Create or update an asset extension resource */
  createOrUpdateAsset is ArmResourceCreateOrUpdateAsync<AssetResource>;
  /** Delete an asset extension resource */
  deleteAsset is ArmResourceDeleteSync<AssetResource>;
  /** List all asset extension resources */
  listAssets is ArmResourceListByParent<AssetResource>;
}


```

### Result

pass
