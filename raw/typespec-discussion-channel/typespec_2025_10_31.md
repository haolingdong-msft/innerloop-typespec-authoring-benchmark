# RT registration for Type Spec folder with multiple swagger files

## question 
Hello Team,
We added a [new RT ScimApiConsumption](https://github.com/Azure/azure-rest-api-specs-pr/tree/chiragm28/entraScim/specification/identitygovernance/resource-manager/Microsoft.EntraidGovernance/ScimApiConsumption/preview/2025-10-17-preview) under an existing RP namespace Microsoft.EntraIDGovernance. The new folder structure is something like
```
resource-manager
--> Microsoft.EntraidGovernance
----> <span style="color:#2B9B62"><strong>ScimApiConsumption</strong> (New folder for NEW RT)</span>
------> preview/2025-10-17-preview
--------> examples
--------> <span style="color:#2B9B62">scimopenapi.json</span>
----> preview/2025-06-13-preview (existing folder)
--------> examples
--------> openapi.json
```
I have the following questions
1.The existing RT registration uses the swagger path 
```
"azure-rest-api-specs-pr/tree/RPSaaSMaster/specification/identitygovernance/resource-manager/Microsoft.EntraidGovernance/"
```
Will the new folder structure have an impact because of presence of multiple swagger files? Will we have to update the swagger path to point to 
```
"azure-rest-api-specs-pr/tree/RPSaaSMaster/specification/identitygovernance/resource-manager/Microsoft.EntraidGovernance/preview" 
```
2.Similarly, for the new RT registration should we pass the swagger path scoped to associated swagger file? i.e. 
```
"azure-rest-api-specs-pr/tree/RPSaaSMaster/specification/identitygovernance/resource-manager/Microsoft.EntraidGovernance/ScimApiConsumption"
```

## answer
is ScimApiConsumption suppose to be a different service that have different set of SDKs with those APIs in Microsoft.EntraidGovernance/preview? Will they have different versioning lifecycle? Are they relatively independent with each other in customer scenarios?
1.If yes, you should have some new folder that are parallel with ScimApiConsumption  and put those apis under the Microsoft.EntraidGovernance/preview folder into that new folder so that it's aligned with our [new folder structure guideline](https://github.com/Azure/azure-rest-api-specs/wiki/Azure-Service-Versioning-Guideline#an-azure-resource-provider-and-its-1-azure-services) 
2.Could you send an email to azversioning@service.microsoft.com to justify your case?

RPaaS team doesn't require you to specific the RTRegistration down to the sub folder level, it can find the resource types in sub folders recursively according to Lakshman and Wendy who are from RPaaS team. which means 
```
"azure-rest-api-specs-pr/tree/RPSaaSMaster/specification/identitygovernance/resource-manager/Microsoft.EntraidGovernance/"
```
should work for your scenario.  But I suggest you to carefully verify it in your dogfood or canary environment before you publish it.

# Tsp Compile Appears to Generate Wrong Path to CommonTypes

## question 
Hello,
 
We are adding the spec for a new API version, and we have several CI jobs failing citing an invalid path to common type variables in the swagger generated by tsp compile. Is there a step we are missing? 
 
Link to PR - https://github.com/Azure/azure-rest-api-specs-pr/pull/25034
Link to one of failed CI jobs - https://github.com/Azure/azure-rest-api-specs-pr/actions/runs/18902445511/job/53952662762:

```
‚ùå Error building Spec Model from changed file list:
SpecModelError: Failed to resolve file for swagger: /home/runner/work/azure-rest-api-specs-pr/azure-rest-api-specs-pr/after/specification/nginx/Nginx.Management/resource-manager/Nginx.NginxPlus/stable/2025-11-01/swagger.json
  Problem File: /home/runner/work/azure-rest-api-specs-pr/azure-rest-api-specs-pr/common-types/resource-management/v6/types.json
  Readme: /home/runner/work/azure-rest-api-specs-pr/azure-rest-api-specs-pr/after/specification/nginx/Nginx.Management/resource-manager/Nginx.NginxPlus/stable/2025-11-01/readme.md
  Tag: package-2025-11-01
  Cause: ResolverError: Error reading file "/home/runner/work/azure-rest-api-specs-pr/azure-rest-api-specs-pr/common-types/resource-management/v6/types.json"
Error: Process completed with exit code 1.
```

## answer
The issue was caused by duplicate specs inside specification/nginx/Nginx.Management/resource-manager. 
These duplicates were generated because the output directory was changed in a previous commit, and this is what appears to be generating the specs in the /nginx/Nginx.Management/resource-manager directory on tsp compile. But previously tsp compile was generating the specs in the /nginx/resource-manager directory. And what seems to be having the wrong common types path are the specs in the /nginx/Nginx.Management/resource-manager directory.
Deleting that folder and rerunning tsp compile fixed the problem.
 